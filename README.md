# README

## μ„λ²„ κ°λ°κ³Όμ  - μ»¤ν”Ό μ£Όλ¬Έ μ‹μ¤ν…


---

### π“‘λ©μ°¨

1. [κ°λ° ν™κ²½ λ° κΈ°μ  μ¤νƒ](#1-κ°λ°-ν™κ²½-λ°-κΈ°μ -μ¤νƒ)
2. [μ„¤κ³„ μ„¤λ…](#2-μ„¤κ³„-μ„¤λ…) 
3. [API κµ¬ν„ μ—¬λ¶€ λ° μ„¤λ…](#3-api-κµ¬ν„-μ—¬λ¶€-λ°-μ„¤λ…)
4. [κ³Όμ  κ³ μ°°( κµ¬ν„ν•λ©΄μ„ μ΄λ ‡κ² ν•΄λ³Όκ±Έ ν•λ” μ•„μ‰¬μ›€μ„ μ μ—μµλ‹λ‹¤.)](#4-κ³Όμ -κ³ μ°°κµ¬ν„ν•λ©΄μ„-μ΄λ ‡κ²-ν•΄λ³Όκ±Έ-ν•λ”-μ•„μ‰¬μ›€μ„-μ μ—μµλ‹λ‹¤)
5. [μ°Έκ³  μλ£](#5-μ°Έκ³ -μλ£)

---

### 1. κ°λ° ν™κ²½ λ° κΈ°μ  μ¤νƒ

- Java (open Jdk 17)
- AWS EC2
- Spring Boot 2.7.1
- Gradle
- JPA
- DB : AWS μ¤λ΅λΌ (MySQL μ—”μ§„) 2λ€ μ‚¬μ© ( Order μ„λ²„μ DB, Display μ„λ²„μ DB)
- Kafka (λΈλ΅μ»¤ 1κ°)
- JUnit
- μ΄ν΄λ¦½μ¤ IDE
- Postman (mock api μ„λ²„)

---

### 2. μ„¤κ³„ μ„¤λ…

 **1.  μ„¤κ³„ λ‚΄μ©**

**1) μƒκ°μ νλ¦„ π¤”**

- κ³ κ° Aμ΄ μ»¤ν”Ό λ©”λ‰΄λ¥Ό κ³ λ¥΄κ³  μμ„ λ•, μ£Όλ¬Έν•κ³  μλ” κ³ κ° B κ°€ μλ‹¤
- λ©”λ‰΄ ν™”λ©΄μ΄ κ°‘μκΈ° μ£½μ–΄λ²„λ Έμ„ λ•, μ£Όλ¬Έν•κ³  μλ” κ³ κ° Bλ” μ£Όλ¬Έμ΄ μ •μƒμ μΌλ΅ μ§„ν–‰λμ•Όν•λ‹¤.
- λ©”λ‰΄κ°€ μ΅°ν λμ§€ μ•λ”λΌκ³  μ£Όλ¬Έμ€ λ¬΄μ΅°κ±΄ λμ•Όν•λ‹¤

β†’ μ „μ‹μ™€ μ£Όλ¬Έ μ„λΉ„μ¤λ¥Ό κ°κ° λ§μ΄ν¬λ΅ν•κ² λ§λ“¤μ

β†’ μ—¥? κ·ΈλΌ μΈκΈ° λ©”λ‰΄λ” μ–΄λ–»κ² μ§‘κ³„ν•λ”κ°€?  μΈκΈ° λ©”λ‰΄λ” μ£Όλ¬Έμ„ ν†µν•΄ μ§‘κ³„λ ν…λ°? **π¤”**

β†’ μ£Όλ¬Έμ΄ μΌμ–΄λ‚¬μ„ κ²½μ°, μ „μ‹ μ„λ²„κ°€ μ΄ μ‚¬μ‹¤μ„ μ•μ•„μ•Ό ν•λ‹¤.

β†’ μ£Όλ¬Έ μ„λ²„μ—μ„ μ£Όλ¬Έμ΄ μΌμ–΄λ‚¬μ„ κ²½μ° Httpν†µμ‹ μ©λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•΄μ„ μ”μ²­μ„ κ·Έλ• κ·Έλ•λ§λ‹¤ μ „μ‹ μ„λ²„μ—κ² λ³΄λ‚΄μ

β†’ κ·ΈλΌ μ£Όλ¬Έμ΄ μ΄λ‹Ή λ‡μ², λ‡λ§κ±΄μ”© λ“¤μ–΄μ¤λ©΄ κ·Έλ•λ§λ‹¤ Httpμ”μ²­ λ³΄λ‚΄κ³  μ‘λ‹µ κΈ°λ‹¤λ¦¬λ” μ‹κ°„ λ•λ¬Έμ— μ²λ¦¬ μ†λ„κ°€ λλ ¤μ§ν…λ°?? πµβ€π’«πµβ€π’«πµβ€π’«πµβ€π’«πµβ€π’«

β†’ κ·ΈλΌ μ£Όλ¬Έμ„λ²„ , μ „μ‹ μ„λ²„ λ‘ μ¤‘ ν•λ‚λ” κ·ΈλΌ λ‹¤μ΄ λ ν…λ° κ·Έλ™μ• λ³΄λ‚Έ λ°μ΄ν„°κ°€ μ‚¬λΌμ§€λ©΄? π±π±

**2) κ²°λ΅ ** 

- Kafkaμ™€ κ°™μ΄ λ©”μ‹μ§• μ‹μ¤ν…μ„ λ„μ…

β†’ μ „μ‹ μ„λ²„κ°€ λ‹¤μ΄λ„λ”λΌλ„ μ£Όλ¬Έμ„λ²„κ°€ λ³΄λ‚Έ λ°μ΄ν„°λ” Kafka λ©”μ‹μ§• νμ— μ΅΄μ¬ν•¨

β†’ λ€μ©λ‰ μ”μ²­ νΈλν”½μ— νΉν™”λμ–΄ μμ. ν•΄λ‹Ή μ‹μ¤ν…μ μ„±λ¥μ„ λ―ΏμμΌλ΅ λ„μ…

β†’ λ‹¤μμ μΈμ¤ν„΄μ¤μ μ „μ‹ μ„λ²„κ°€ μ΅΄μ¬ ν•λ”λΌλ„ consumer group μΌλ΅ λ¬¶μ—¬ μμΌλ©΄ κ°™μ€ μ£Όλ¬Έ λ°μ΄ν„°μ— λ€ν•΄μ„ μ¤‘λ³µ μ²λ¦¬ν•μ§€ μ•μ.

- CQRS ν¨ν„΄ μ μ©

β†’ μ£Όλ¬Έ μ„λ²„μ„μ—μ„ μ£Όλ¬Έμ΄ μΌμ–΄λ‚ μ£Όλ¬Έ-λ©”λ‰΄ κ΄€κ³„ λ°μ΄ν„°κ°€ μƒμ„±λμ—μ„ κ²½μ°, μ΄ λ°μ΄ν„°λ¥Ό κµ³μ΄ μ •κ·ν™”ν•΄μ„ μ „μ‹μ„λ²„ DBμ—μ„ μ €μ¥ν•λ”κ² μ•„λ‹κ³  κ·Έλƒ¥ κ·Έλ€λ΅ λΉ„μ •κ·ν™”λ μƒνƒλ΅ λ°μ΄ν„°λ¥Ό μ €μ¥.

β†’ μ „μ‹μ„λ²„μ—μ„λ” κµ³μ΄ Join μ—°μ‚°μ„ ν•  ν•„μ”μ—†μ΄ κ·Έλ€λ΅ λ°μ΄ν„°λ¥Ό μ½μ–΄μ„ Java μ†μ¤μ—μ„ μ§‘κ³„ν•λ” λΉ„μ¦λ‹μ¤ λ΅μ§μ„ μ½”λ”©ν•λ©΄ λ¨.

β†’ λ°μ΄ν„°μ λΉ λ¥Έ μ½κ³  μ“°κΈ°κ°€ κ°€λ¥ν•΄μ§. 

- λ°μ΄ν„°μ μΌκ΄€μ„±μ„ κ³ λ ¤

β†’ μ£Όλ¬Έμ„λ²„μ—μ„ λ§λ“¤μ–΄μ§„ μ£Όλ¬Έλ°μ΄ν„°μ™€ μ „μ‹μ„λ²„μ—μ„ μ§‘κ³„ν•λ” μ£Όλ¬Έμ— μν• μΈκΈ° λ©”λ‰΄μ μ§‘κ³„ μκ°€ κ°™μ•„μ•Όν•¨. μ΄κ²ƒλ„ Kafkaμ μ„±λ¥μ„ λ―Ώλ”λ‹¤λ©΄ μ•½κ°„μ μ‹κ°„ μ¤μ°¨κ°€ μƒκΈ°λ”λΌλ„ μ–΄λ μ •λ„ μ‹κ°„μ΄ νλ¥΄λ©΄ λ‘μ μ •ν•©μ„±μ€ λ§μ¶°μ§„λ‹¤ λΌλ” λ―ΏμμΌλ΅ Kafkaλ¥Ό λ„μ…. 

- λ°μ΄ν„°μ λ™μ‹μ„± κ³ λ ¤

β†’ μ•μ—μ„ λ§ν–λ“―μ΄, λ‹¤μμ μΈμ¤ν„΄μ¤μ μ „μ‹ μ„λ²„κ°€ μ΅΄μ¬ ν•λ”λΌλ„ consumer group μΌλ΅ λ¬¶μ—¬ μμΌλ©΄ κ°™μ€ μ£Όλ¬Έ λ°μ΄ν„°μ— λ€ν•΄μ„ μ¤‘λ³µ μ²λ¦¬ν•μ§€ μ•μ. kafkaλ” consumerμ™€ νν‹°μ…μ„ 1λ€1λ΅ μ²λ¦¬ν•κΈ° λ•λ¬Έμ— κ°€λ¥ν•¨.

**3) μ„λΉ„μ¤ κµ¬μ΅°**

- μ£Όλ¬Έ μ„λ²„μ™€ μ „μ‹ μ„λ²„λ¥Ό λ”°λ΅ μƒμ„±ν•μ€κ³  λ°μ΄ν„°λ² μ΄μ¤λ„ κ°κ° μ„λ΅ λ‹¤λ¥΄κ² μ—°κ²°ν•μ—¬ λ§λ“¤μ—μµλ‹λ‹¤.

|  | μ£Όλ¬Έ μ„λ²„ | μ „μ‹ μ„λ²„ |
| --- | --- | --- |
| μ„λ²„ μ΄λ¦„ | coffee-order | coffee-display |
| ν¬νΈ λ²νΈ | 8080 | 8081 |
| λ°μ΄ν„°λ² μ΄μ¤ | coffee | display |
| μ†μ¤ν΄λ” | coffee-order | coffee-display |
- Kafkaμ™€ λ°μ΄ν„°λ² μ΄μ¤λ” μ•„λ§μ΅΄μ›Ήμ„λΉ„μ¤λ¥Ό μ΄μ©ν•μ—¬ μ—°λ™ν•μ€μµλ‹λ‹¤. AWS EC2μ— Kafkaλ¥Ό μ„¤μΉν•μ€κ³ , λ°μ΄ν„°λ² μ΄μ¤λ” AWSμ μ¤λ΅λΌ DBλ¥Ό μ‚¬μ©ν•μ€μµλ‹λ‹¤.

- **μ„¤κ³„λ„ / ERD**

![μ»¤ν”Ό μ£Όλ¬Έ  μ‹μ¤ν… MSA μ„¤κ³„ μ΄λ―Έμ§€](README_image/%EC%BB%A4%ED%94%BC%EC%A3%BC%EB%AC%B8%EC%8B%9C%EC%8A%A4%ED%85%9C_MSA.png)

μ»¤ν”Ό μ£Όλ¬Έ  μ‹μ¤ν… MSA μ„¤κ³„ μ΄λ―Έμ§€

![μ£Όλ¬Έ μ„λ²„μ λ°μ΄ν„°λ² μ΄μ¤ ERD](README_image/orde_db_erd.png)

μ£Όλ¬Έ μ„λ²„μ λ°μ΄ν„°λ² μ΄μ¤ ERD

---

![μ „μ‹ μ„λ²„μ λ°μ΄ν„°λ² μ΄μ¤ ERD](README_image/display_db_erd.png)

μ „μ‹ μ„λ²„μ λ°μ΄ν„°λ² μ΄μ¤ ERD

---

- **μ£Όλ¬Έ(order) μ„λ²„**λ” λ©”λ‰΄,μƒν’,κ³ κ°,ν¬μΈνΈ,μ£Όλ¬Έμ— λ€ν• μ²λ¦¬λ¥Ό ν•©λ‹λ‹¤. ν„μ¬ κ³Όμ μ—μ„λ” ν¬μΈνΈ μ„λΉ„μ¤μ™€ μ£Όλ¬Έμ„λΉ„μ¤λ§ κµ¬ν„λμ–΄μμΌλ©° ν¬μΈνΈ μ„λΉ„μ¤λ” ν¬μΈνΈ μ¶©μ „, κ²°μ , μ΅°ν μ²λ¦¬λ¥Ό ν•κ³  μ£Όλ¬Έ μ„λΉ„μ¤λ” μ£Όλ¬Έμ„ μƒμ„±, μ΅°ν ν•λ” μ²λ¦¬λ¥Ό ν• ν›„, Kafkaμ— μ£Όλ¬Έν• λ©”λ‰΄ μ •λ³΄λ¥Ό λ³΄λƒ…λ‹λ‹¤. λ§μ•½ κ΄€λ¦¬μ νμ΄μ§€κ°€ μκ³ , κ³ κ°μ λ€ν• μ²λ¦¬μ™€ λ©”λ‰΄μ— μƒν’μ„ μ €μ¥,μμ •,μ‚­μ  ν•λ” μ²λ¦¬ λν• μ£Όλ¬Έ(order) μ„λ²„κ°€ μ²λ¦¬ν•κ² λ  κ²λ‹λ‹¤.
- **μ „μ‹(display) μ„λ²„**λ” μ „μ‹κ°€ κ°€λ¥ν• μƒνƒμ λ©”λ‰΄λ¥Ό μ΅°νν•κ³  μΈκΈ° λ©”λ‰΄λ¥Ό μ§‘κ³„ ν›„ μ΅°νν•λ” μ²λ¦¬λ¥Ό ν•©λ‹λ‹¤. λν• Kafkaμ—μ„ μ½μ€ μ£Όλ¬Έν• λ©”λ‰΄λ¥Ό μ£Όλ¬Έ-λ©”λ‰΄ ν…μ΄λΈ”μ— μ €μ¥ν•λ” μ²λ¦¬λ¥Ό ν•©λ‹λ‹¤.
μ „μ‹μ„λ²„λ” display-service λΌλ” μ΄λ¦„μΌλ΅ consumer group μ„ μ΄λ£¨κ³  μμ–΄μ„ μ „μ‹μ„λ²„κ°€ λ‹¤μμ μΈμ¤ν„΄μ¤λ΅ μ‹¤ν–‰λμ–΄λ„ λ°μ΄ν„°λ¥Ό μ¤‘λ³µν•΄μ„ μ²λ¦¬ν•λ” μ΄μλ” λ°μƒν•μ§€ μ•μµλ‹λ‹¤.
- **Kafka**λ” μ£Όλ¬Έ(order)μ„λ²„μ—μ„ λ°ν–‰ν• μµμ†ν•μ μ •λ³΄(μ£Όλ¬Έλ²νΈ, λ©”λ‰΄Id, μƒμ„±μΌμ) λ§μ„ λ°›μ•„ μ „μ‹(display) μ„λ²„μ— μ κ³µν•©λ‹λ‹¤. νΉμ‹λΌλ„ μ „μ‹μ„λ²„κ°€ λ‹¤μ΄ λλ”λΌλ„ Kafkaμ λ©”μ‹μ§€ νμ— λ©”μ‹μ§€κ°€ λ³΄μ΅΄λμ–΄μκΈ° λ•λ¬Έμ— μ „μ‹μ„λ²„κ°€ λ‹¤μ‹ μ‚΄μ•„λ‚λ” μκ°„ ν•΄λ‹Ή λ©”μ‹μ§€λ¥Ό λ’¤λ¦κ²λΌλ„ μ²λ¦¬ν•  μ μμ.

**4) κ·Έ μ™Έμ μ„¤κ³„**

- Exception μ²λ¦¬λ”  BizException μ΄λΌλ” μ΄λ¦„μΌλ΅ customν•κ² λ§λ“¤μ—κ³  , λ‚΄λ¶€ 500λ² μ—λ¬λ§μ„ μ²λ¦¬ ν•©λ‹λ‹¤. (κ³Όμ  μ‹κ°„ λ¶€μ΅±μΌλ΅ internal 500 μ—λ¬λ§ μ²λ¦¬ν•μ€μµλ‹λ‹¤)
- request μ”μ²­μ€ μ£Όλ΅ GETκ³Ό POST λ°©μ‹μΌλ΅ κµ¬ν„ν•μ€κ³  μµλ€ν• Restful ν•κ² λ””μμΈν•μ€μµλ‹λ‹¤.
- λ°μ΄ν„° μ†΅μμ‹  κ°μ²΄λ” μ£Όλ΅ Dtoμ„ λ§λ“¤μ–΄μ„ μ‚¬μ©ν•μ€μµλ‹λ‹¤.

---

### 3. API κµ¬ν„ μ—¬λ¶€ λ° μ„¤λ…

1. **μ»¤ν”Ό λ©”λ‰΄ λ©λ΅ μ΅°ν API  (κµ¬ν„ μ™„λ£)**
    
    > order μ„λ²„μ λ©”λ‰΄ ν…μ΄λΈ”κ³Ό λ‹¬λ¦¬, display μ„λ²„μ λ©”λ‰΄ ν…μ΄λΈ”μ— μƒν’ μ •λ³΄λ„ κ°™μ΄ μλ” λΉ„κµμ  λΉ„μ •κ·ν™”λ ν…μ΄λΈ” κµ¬μ΅°μ…λ‹λ‹¤. λ©”λ‰΄IDμ™€ μƒν’IDκ°€ λ³µν•©ν‚¤λ΅ μ„¤μ •λμ–΄ μκΈ° λ•λ¬Έμ— λ©”λ‰΄IDλ΅ μ΅°ν μ‹, κ°™μ€ λ©”λ‰΄ IDκ°€ μ¤‘λ³µν•΄μ„ μ΅°νλκΈ° λ•λ¬Έμ— λ©”λ‰΄IDλ΅ Group By λ¥Ό ν•΄μ•Όλ§ ν–μµλ‹λ‹¤. μ΄λ¥Ό μ„ν•΄μ„ JpaRepositoryμ— @Queryμ— μ§μ ‘ SQLλ¬Έμ„ μ‘μ„±ν•μ—¬ λ©”λ‰΄ λ©λ΅μ„ μ΅°νν–μµλ‹λ‹¤.
    
    **β• μ¶”κ°€ κΈ°λ¥ κµ¬ν„**
     λ©”λ‰΄ ν…μ΄λΈ”μ— USE_YN ( μ‚¬μ©μ—¬λ¶€) ν•„λ“λ¥Ό μ¶”κ°€ν•μ—¬, μ»¤ν”Όκ°€κ² μ‚¬μ¥λ‹μ΄ λ©”λ‰΄λ¥Ό μ „μ‹ μ—¬λ¶€λ¥Ό μ΄ ν•„λ“λ¥Ό ν†µν•΄ μ μ–΄ν•κ³ , λ©”λ‰΄ μ΅°ν μ‹, μ΅°κ±΄μ— USE_YNμ΄ Y μΈ λ©”λ‰΄λ§ μ΅°νν•  μ μλ„λ΅ ν•΄λ³΄μ•μµλ‹λ‹¤.βοΈ
    > 
    
    
    μ»¤ν”Ό λ©”λ‰΄ λ©λ΅ μ΅°ν API μ”μ²­,μ‘λ‹µ μ¤ν™β†“
    ```json
    //request : GET localhost:8081/display/menu
    
    // response
    [
        {
            "menuId": "MENU-00000001",     // λ©”λ‰΄ID
            "menuNm": "μ•„μ΄μ¤ μ•„λ©”λ¦¬μΉ΄λ…Έ",  // μ΄λ¦„(λ©”λ‰΄λ…)
            "menuPrice": 4200              // κ°€κ²©(λ©”λ‰΄κ°€κ²©)
        },
        {
            "menuId": "MENU-00000002",
            "menuNm": "ν•« μ•„λ©”λ¦¬μΉ΄λ…Έ",
            "menuPrice": 4200
        },
        {
            "menuId": "MENU-00000003",
            "menuNm": "ν•« μ΄μ½”",
            "menuPrice": 4500
        },
        {
            "menuId": "MENU-00000004",
            "menuNm": "μ•„μ΄μ¤ μ΄μ½”",
            "menuPrice": 4500
        },
        {
            "menuId": "MENU-00000005",
            "menuNm": "λ¨λ‹μ„ΈνΈ1",
            "menuPrice": 4500
        }
    ]
    ```
    
    <aside>
    β… MenuControllerTest.java  μ—μ„ ν…μ¤νΈν•μ‹¤ μ μμµλ‹λ‹¤.
    
    </aside>
    
    ---
    
2. **ν¬μΈνΈ μ¶©μ „ν•κΈ° API  (κµ¬ν„μ™„λ£)**
    
    > ν¬μΈνΈ μ¶©μ „ μ„λΉ„μ¤λ” μ•„λμ™€ κ°™μ€ ν”„λ΅μ„Έμ¤λ΅ μ§„ν–‰λ©λ‹λ‹¤.
    
    `1. κ³ κ°μ ν¬μΈνΈ μ΅°ν β†’
    2.ν¬μΈνΈ μ¶©μ „ β†’ 
    3.μ—”ν‹°ν‹° μμ •, μƒμ„± (ν¬μΈνΈ, ν¬μΈνΈ μƒμ„Έ) β†’ 
    4.μ €μ¥ (ν¬μΈνΈ, ν¬μΈνΈ μƒμ„Έ) β†’ 
    5.μ¶©μ „ μ „ ν¬μΈνΈ, μ¶©μ „ κΈμ•΅ , μ¶©μ „ ν›„ ν¬μΈνΈλ¥Ό μ‘λ‹µ`
    
    μ‚¬μ©μ μ‹λ³„κ°’(κ³ κ° ID)λ΅ μ”μ—¬ ν¬μΈνΈλ¥Ό μ΅°νν•©λ‹λ‹¤. κ³ κ° ν…μ΄λΈ”κ³Ό ν¬μΈνΈ ν…μ΄λΈ”μ€ 1:1 κ΄€κ³„λΌκ³  μƒκ°ν•μ€μΌλ©°, λ§μ•½ κ³ κ°μ΄ μƒμ„±λ¬μ„ κ²½μ° ν¬μΈνΈλ„ κ°™μ΄ μƒκΈ°λ” κµ¬μ΅°λΌκ³  κ°€μ •ν•μ€μµλ‹λ‹¤. κ·Έλμ„ μ‚¬μ©μ μ‹λ³„κ°’(κ³ κ° ID)λ΅ μ΅°ν μ‹, μ΅°νλ λ°μ΄ν„°κ°€ μ—†μΌλ©΄ λ‹¤μκ³Ό κ°™μ€ μ»¤μ¤ν…€ Exceptionμ„ throw ν•μ€μµλ‹λ‹¤. 
    
    `new BizException(ErrorCode.NOT_FOUND_DATA, "κ³ κ° μ •λ³΄")) // ν•΄λ‹Ή κ³ κ° μ •λ³΄ μ΄/κ°€ μ΅΄μ¬ν•μ§€ μ•μµλ‹λ‹¤.`  
    
    **β• μ¶”κ°€ κΈ°λ¥ κµ¬ν„**
     ν¬μΈνΈ μƒμ„Έ λ‚΄μ—­ μ΅°ν APIλ¥Ό μ¶”κ°€λ΅ κ°λ°ν•΄λ³΄μ•μµλ‹λ‹¤. ν¬μΈνΈ μ ν•μ„ EnumμΌλ΅ μ •μν•μ—¬ ν¬μΈνΈμ λ³€ν™”κ°€ μμ„ λ•λ§λ‹¤ νμ¤ν† λ¦¬μ„±μΌλ΅ λ‚΄μ—­μ„ μƒμ„±ν•λ„λ΅ ν•μ€μµλ‹λ‹¤. λν• EXP_DATE(λ§λ£μΌμ) ν•„λ“λ¥Ό μ¶”κ°€ν•΄μ„ ν–¥ν›„,  ν¬μΈνΈ λ³„ μ‚¬μ© κΈ°ν•μΌλ΅ μ‚¬μ©ν•  μ μλ„λ΅ ν•΄λ³΄μ•μµλ‹λ‹¤.βοΈ
    ```java
    // PointType.java 
    public enum PointType {
            CHARGE("CHARGE","μ¶©μ „",value -> value),
            USE("USE","μ‚¬μ©",value -> value.multiply(BigDecimal.valueOf(-1))),
            SAVE("SAVE","μ λ¦½",value -> value),
            EXPIRE("EXPIRE","μ†λ©Έ",  value -> value.multiply(BigDecimal.valueOf(-1)))
      ;
    }
     ```
    
   ν¬μΈνΈ μ¶©μ „ν•κΈ° API  μ”μ²­,μ‘λ‹µ μ¤ν™β†“
    ```json
    //request : POST localhost:8080/point
    {
        "customerId": "CUST-00000004",      //μ‚¬μ©μ μ‹λ³„κ°’ (κ³ κ° ID)
        "chargeAmt": 20000                  // μ¶©μ „ κΈμ•΅
    }
    
    // response
    {
        "beforeChargePoint": 10000,   // μ¶©μ „ μ „ ν¬μΈνΈ
        "chargeAmt": 20000,           // μ¶©μ „ κΈμ•΅
        "afterChargePoint": 30000     // μ¶©μ „ ν›„ ν¬μΈνΈ
    }
    ```
    
    
   ν¬μΈνΈ μƒμ„Έ λ‚΄μ—­ μ΅°ν API  μ”μ²­,μ‘λ‹µ μ¤ν™β†“
    ```json
    //request : GET localhost:8080/point/CUST-00000004
    
    // response
    [
        {
            "customerId": "CUST-00000004",   // μ‚¬μ©μ μ‹λ³„κ°’ (κ³ κ° ID)
            "point": 30000,                  // ν„μ¬ ν¬μΈνΈ μ”μ•΅
            "pointDetail": [                 // ν¬μΈνΈ μƒμ„Έ λ‚΄μ—­
                {
                    "point": 10000,          // λ³€ν™”λ ν¬μΈνΈ
                    "pointTypeCode": "SAVE", // ν¬μΈνΈ μ ν• μ½”λ“
                    "pointTypeName": "μ λ¦½", // ν¬μΈνΈ μ ν• λ…
                    "expDate": "20221230",   // ν¬μΈνΈ λ§λ£μΌμ
                    "remark": "μ²« κ°€μ… κ°μ‚¬ ν¬μΈνΈ"  // λΉ„κ³ 
                },
                {
                    "point": 20000,
                    "pointTypeCode": "CHARGE",
                    "pointTypeName": "μ¶©μ „",
                    "expDate": null,
                    "remark": "κ³ κ° μ¶©μ „"
                }
            ]
        }
    ]
    ```
    
    <aside>
    β… PointControllerTest.javaμ—μ„ ν…μ¤νΈν•μ‹¤ μ μμµλ‹λ‹¤.
    
    </aside>
    
    ---
    
3. **μ»¤ν”Ό μ£Όλ¬Έ/κ²°μ  ν•κΈ° API  (κµ¬ν„μ™„λ£)**
    - μ‚¬μ©μ μ‹λ³„κ°’, λ©”λ‰΄IDλ¥Ό μ…λ ¥ λ°›μ•„ μ£Όλ¬Έμ„ ν•κ³  κ²°μ λ¥Ό μ§„ν–‰ν•©λ‹λ‹¤.  **(κµ¬ν„μ™„λ£)**
    β†’ π” μ €λ” μ£Όλ¬Έν•  λ©”λ‰΄ μλ‰λ„ λ„£μ–΄ μ£Όλ¬ΈκΈμ•΅μ„ λ©”λ‰΄ κ°€κ²© * λ©”λ‰΄ μλ‰μΌλ΅ κ³„μ‚°ν•μ€μµλ‹λ‹¤.
    - κ²°μ λ” ν¬μΈνΈλ΅λ§ κ°€λ¥ν•λ©°, μ¶©μ „ν• ν¬μΈνΈμ—μ„ μ£Όλ¬ΈκΈμ•΅μ„ μ°¨κ°ν•©λ‹λ‹¤.  **(κµ¬ν„μ™„λ£)**
    - μ£Όλ¬Έ λ‚΄μ—­μ„ λ°μ΄ν„° μμ§‘ ν”λ«νΌμΌλ΅ μ‹¤μ‹κ°„ μ „μ†΅ν•λ” λ΅μ§μ„ μ¶”κ°€ν•©λ‹λ‹¤.
    (Mock API λ“±μ„ μ‚¬μ©ν•μ—¬ μ‚¬μ©μ μ‹λ³„κ°’, λ©”λ‰΄ID, κ²°μ κΈμ•΅μ„ μ „μ†΅ν•©λ‹λ‹¤.) **(κµ¬ν„μ™„λ£)**
    
    > μ£Όλ¬Έ λ“±λ΅μ€ μ•„λμ™€ κ°™μ€ ν”„λ΅μ„Έμ¤λ΅ μ§„ν–‰ν•©λ‹λ‹¤.
    
    `1.κ³ κ° μ΅°ν β†’ 
     2.μ£Όλ¬ΈκΈμ•΅,κ²°μ κΈμ•΅ κ³„μ‚° β†’ 
     3.ν¬μΈνΈ κ²°μ  β†’ 
     4.μ—”ν‹°ν‹° μƒμ„± ( μ£Όλ¬Έ,  μ£Όλ¬Έ-λ©”λ‰΄  ) β†’ 
     5.μ €μ¥ ( μ£Όλ¬Έ,  μ£Όλ¬Έ-λ©”λ‰΄  ) β†’ 
     6.μ£Όλ¬Έ λ‚΄μ—­μ„ λ°μ΄ν„° μμ§‘ ν”λ«νΌμΌλ΅ μ‹¤μ‹κ°„ μ „μ†΅ β†’ 
     7.μ£Όλ¬Έλ²νΈ, κ²°μ κΈμ•΅, μ°¨κ°λ ν¬μΈνΈλ¥Ό μ‘λ‹µ`
    
    1. κ³ κ° μ΅°ν μ‹, κ³ κ°μ ν¬μΈνΈ μ •λ³΄κ°€ μ—†μ„ κ²½μ°, μ•„λμ™€ κ°™μ€ Exceptionμ„ throw ν–μµλ‹λ‹¤.
    
    `new BizException(ErrorCode.NOT_FOUND_DATA, "κ³ κ° μ •λ³΄")) // ν•΄λ‹Ή κ³ κ° μ •λ³΄ μ΄/κ°€ μ΅΄μ¬ν•μ§€ μ•μµλ‹λ‹¤.`  
    
    2. μ£Όλ¬Έ κΈμ•΅μ€  λ©”λ‰΄κ°€κ²©μ— λ©”λ‰΄μλ‰λ§νΌ κ³±ν• κ°’μΌλ΅ κ³„μ‚°ν•μ€κ³  κ²°μ κΈμ•΅ ν•„λ“λ¥Ό μ¶”κ°€ν• μ΄μ λ” ν–¥ν›„, μ„λΉ„μ¤ ν™•μ¥ μ‹,  ν• μΈ μ •μ±…(ex μΏ ν°) μ΄ λ“¤μ–΄κ°”μ„ κ²½μ°λ¥Ό κ³ λ ¤ν•μ€μµλ‹λ‹¤. ( ν„μ¬λ” ν• μΈμ •μ±…μ΄ μ—†κΈ° λ•λ¬Έμ— μ£Όλ¬ΈκΈμ•΅κ³Ό κ²°μ κΈμ•΅μ΄ λ™μΌν•©λ‹λ‹¤.
    
    3. ν¬μΈνΈ κ²°μ  μ‹, μ”μ•΅μ΄ λ¶€μ΅±ν•  κ²½μ°, μ–Όλ§νΌ λ¶€μ΅±ν•μ§€λ¥Ό μ•λ ¤μ£ΌκΈ° μ„ν•΄ , μ•„λμ™€ κ°™μ€ Exceptionμ„ throw ν–μµλ‹λ‹¤.
    
    `throw new BizException(ErrorCode.NO_POINT,substractedPoint.abs().toBigInteger().toString());`
    `// 2000 ν¬μΈνΈκ°€ λ¶€μ΅±ν•©λ‹λ‹¤. ν¬μΈνΈ μ¶©μ „ ν›„ λ‹¤μ‹ μ΄μ©ν•΄μ£Όμ„Έμ”`
    
    4,5. κ²°μ κ°€ μ„±κ³µλλ©΄ μ£Όλ¬Έ ν…μ΄λΈ”μ— μ£Όλ¬Έμ„ μƒμ„±ν•κ³  μ£Όλ¬Έ-λ©”λ‰΄ κ΄€κ³„λ¥Ό μ •μν•λ” ν…μ΄λΈ”μ—λ„ λ°μ΄ν„°λ¥Ό μƒμ„±ν•©λ‹λ‹¤. μ΄λ• μ£Όλ¬Έ-λ©”λ‰΄ κ΄€κ³„ λ°μ΄ν„°κ°€ μƒκΈ°λ©΄ EntityListenerλ¥Ό ν†µν•΄@PostPersistλ¥Ό κµ¬ν„ν•μ—¬ , Kafka μ΄λ²¤νΈ λ©”μ‹μ§€λ¥Ό publish(λ°ν–‰) ν•μ€μµλ‹λ‹¤. 
    
    6. Postmanμ echo mock μ„λ²„λ¥Ό μ΄μ©ν•μ€μµλ‹λ‹¤. μ‚¬μ‹¤ μ΄ λ¶€λ¶„μ΄ κ³Όμ ν•λ©΄μ„ κ³Όμ  λ¬Έν•­μ μλ„κ°€ μ™Έλ¶€ api μ—°λ™μ„ μ–΄λ–¤ μ‹μΌλ΅ κµ¬ν„ν•λ”κ°€? λ΅ μ΄ν•΄ν–λ”λ° λ§κ² μ΄ν•΄ν–μ„κΉμ”?  μ‚¬μ‹¤ λ‹¤λ¥Έ μ¶μ  μλ„κ°€ μμ„ κ²ƒ κ°™μ€λ° κ·Έ λ¶€λ¶„μ„ μΊμΉν•μ§€ λ»ν•΄μ„ μΌλ‹¨μ€ μ κ°€ μ΄ν•΄ν• κ²ƒ ν† λ€λ΅ κ°λ°μ„ μ§„ν–‰ν•μ€μµλ‹λ‹¤. 
     RESTful ν†µμ‹ μ© λΌμ΄λΈλ¬λ¦¬λ΅λ” spring cloud μ OpenFeignμ„ μ‚¬μ©ν•μ—¬ κµ¬ν„ν•μ€μµλ‹λ‹¤. OpenFeignμ„ ν†µν•΄ [https://postman-echo.com/post](https://postman-echo.com/post) μΌλ΅ μ£Όλ¬Έμ •λ³΄λ¥Ό λ³΄λ‚΄κ³  ν†µμ‹ μ΄ μ„±κ³µν–μ„ κ²½μ°, λ³΄λ‚Έ μ£Όλ¬Έμ •λ³΄λ¥Ό λ‹¤μ‹ λ°›μ•„μ¤λ” κ²ƒμΌλ΅ ν™•μΈν•μ€μµλ‹λ‹¤. 
     λν• λ°μ΄ν„°μμ§‘ν”λ«νΌμ— λ°μ΄ν„°λ¥Ό μ†΅μ‹  μ‹, μ¤λ¥κ°€ λ‚λ”λΌλ„ μ•μ— μƒμ„±λ μ£Όλ¬Έκ³Ό κ²°μ  λ‚΄μ—­μ΄ Rollback λμ§€ μ•λ„λ΅ μμ™Έμ²λ¦¬λ¥Ό ν•μ€μµλ‹λ‹¤.
    > 
    
    
   μ»¤ν”Ό μ£Όλ¬Έ/κ²°μ  ν•κΈ° API  μ”μ²­,μ‘λ‹µ μ¤ν™β†“
    ```json
    //request : POST localhost:8080/order
    {
        "customerId": "CUST-00000004",   //μ‚¬μ©μ μ‹λ³„κ°’(κ³ κ° ID)
        "menuList": [                    // μ£Όλ¬Έν•  λ©”λ‰΄ λ©λ΅
            {
                "menuId": "MENU-00000001",   // λ©”λ‰΄ID
                "qy": 1                      // μ£Όλ¬Έ μλ‰
            },
            {
                "menuId": "MENU-00000002",
                "qy": 2
            }
        ]
    }
    
    //response
    {
        "orderNo": "ORD-00000027",          // μ£Όλ¬Έλ²νΈ
        "orderPrice": 12600,                // μ£Όλ¬ΈκΈμ•΅
        "usePoint": 12600                   // μ‚¬μ© ν¬μΈνΈ
    }
    ```
    
    <aside>
    β… OrderControllerTest.javaμ—μ„ ν…μ¤νΈν•μ‹¤ μ μμµλ‹λ‹¤.
    
    </aside>
    
     
    
    ---
    
4. **μΈκΈ°λ©”λ‰΄ λ©λ΅ μ΅°ν API (κµ¬ν„μ™„λ£)**
    
    > Order μ„λ²„κ°€ μ£Όλ¬Έμ„ μƒμ„±ν•λ©΄ μ£Όλ¬Έ-λ©”λ‰΄ κ΄€κ³„ λ°μ΄ν„°λ„ μƒκΉλ‹λ‹¤. μ΄λ• Kafkaλ¥Ό ν†µν•΄ ν•΄λ‹Ή μ£Όλ¬Έλ²νΈμ™€ λ©”λ‰΄ID μ •λ³΄λ¥Ό λ‹΄μ•„ λ©”μ‹μ§€λ¥Ό λ°ν–‰ν•κ³ , Display μ„λ²„κ°€ μ΄λ¥Ό μ†λΉ„(cumsume)ν•μ—¬ ν•΄λ‹Ή μ •λ³΄λ¥Ό Display μ„λ²„κ°€ λ°”λΌλ³΄λ” DBμ— μ €μ¥λ©λ‹λ‹¤. Display μ„λ²„λ” μ΄ λ°μ΄ν„°λ¥Ό μ§‘κ³„ν•μ—¬ μΈκΈ°λ©”λ‰΄λ¥Ό μ΅°νν•©λ‹λ‹¤.
    
    λ©”λ‰΄λ³„ μ£Όλ¬Έ νμλ” Orderμ„λ²„κ°€ λ°”λΌλ³΄λ” DBμ μ£Όλ¬Έ-λ©”λ‰΄κ΄€κ³„ν…μ΄λΈ” λ μ½”λ“ μμ™€ λ™μΌν•©λ‹λ‹¤. μ΄λ• μ£Όλ¬Έλ²νΈ ν•λ‚μ λ‹¤μμ λ©”λ‰΄ IDκ°€ κ΄€κ³„λ¥Ό λ§Ίμ§€λ§, λ©”λ‰΄λ³„ μ£Όλ‰ μλ‰μ€ μ£Όλ¬Ένμμ™€ λ¬΄κ΄€ν•©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄ μ£Όλ¬Έλ²νΈ Aμ— μ†ν• λ©”λ‰΄κ°€ M1, M2,M3κ°€ μκ³  κ°κ° M1μ€ 4κ°, M2λ” 2κ°, M3λ¥Ό 1κ° μ£Όλ¬Έν–λ‹¤κ³  ν•΄μ„ λ©”λ‰΄λ³„ μ£Όλ¬Ένμκ°€ μ§‘κ³„λλ”κ² μ•„λ‹κ³  μ£Όλ¬Έλ²νΈλ³„λ΅ κ°κ° λ©”λ‰΄λ” 1κ°μ”© μ£Όλ¬Έν–λ‹¤κ³  μ •μν•μ€μµλ‹λ‹¤.  
    
    **μ£Όλ¬Ένμκ°€ λ™μΌν•κ°€?** 
    μ£Όλ¬Ένμκ°€ λ™μΌν• μ§€ ν™•μΈν•λ” λ¶€λ¶„μ€ JUnitμΌλ΅ ν…μ¤νΈλ¥Ό ν•  μ μ—†μ—μµλ‹λ‹¤. μ™λƒλ©΄ μ£Όλ¬Έ μ„λ²„μ μ£Όλ¬Έλ°μ΄ν„°μ™€ μ „μ‹μ„λ²„μ μ£Όλ¬Έν• λ©”λ‰΄ λ°μ΄ν„°λ” μ„λ΅ λ‹¤λ¥Έ DBμ— μκΈ° λ•λ¬Έμ—,  κ΄€λ¦¬μμ λ¨λ‹ν„°λ§μ΄ ν•„μ”ν• λ¶€λ¶„μ…λ‹λ‹¤.   μ €λ” κ°κ° DBμ— SQL μ§μν•μ—¬ ν™•μΈν•μ€μµλ‹λ‹¤.
    > 
    
    ```sql
    SELECT *
    FROM (
    	SELECT MENU_ID AS MENU_ID , COUNT(*) AS ORDER_CNT
    	FROM ORDER_MENU
    	WHERE FRST_CRE_DT BETWEEN '2022-07-06T00:00' AND '2022-07-13T16:55:34.311082800'
    	GROUP BY MENU_ID
    )  A
    ORDER BY A.ORDER_CNT DESC
    LIMIT 3
    ```
    μ£Όλ¬Έμ„λ²„ DBμ—μ„ μ§‘κ³„ν• λ©”λ‰΄λ³„ μ£Όλ¬Ένμβ†‘
    
    ![μ™Όμ½ SQL μ§μ κ²°κ³Όβ†‘](README_image/Untitled.png)
    
    μ™Όμ½ SQL μ§μ κ²°κ³Ό
    
    ---
    
    ```sql
    SELECT *
    FROM (
    	SELECT MENU_ID AS MENU_ID  , COUNT(*) AS ORDER_CNT
    	FROM  ORDERED_MENU  
    	WHERE ORDER_DT BETWEEN '2022-07-06T00:00' AND '2022-07-13T16:55:34.311082800'
    	GROUP BY MENU_ID
    )  A
    ORDER BY A.ORDER_CNT DESC
    LIMIT 3
    ```
    μ£Όλ¬Έμ„λ²„ DBμ—μ„ μ§‘κ³„ν• λ©”λ‰΄λ³„ μ£Όλ¬Ένμβ†‘
    
    ![μ™Όμ½ SQL μ§μ κ²°κ³Όβ†‘](README_image/Untitled%201.png)
    
    μ™Όμ½ SQL μ§μ κ²°κ³Ό
    
    <aside>
    β… MenuControllerTest.java  μ—μ„ ν…μ¤νΈν•μ‹¤ μ μμµλ‹λ‹¤.
    
    </aside>
    
    
    μΈκΈ°λ©”λ‰΄ λ©λ΅ μ΅°ν API  μ”μ²­,μ‘λ‹µ μ¤ν™β†“
    ```json
    //request : GET localhost:8081/display/best
    
    //response
    [
        {
            "menuId": "MENU-00000001",
            "menuNm": "μ•„μ΄μ¤ μ•„λ©”λ¦¬μΉ΄λ…Έ",
            "orderCnt": 19
        },
        {
            "menuId": "MENU-00000002",
            "menuNm": "ν•« μ•„λ©”λ¦¬μΉ΄λ…Έ",
            "orderCnt": 19
        },
        {
            "menuId": "MENU-00000003",
            "menuNm": "ν•« μ΄μ½”",
            "orderCnt": 4
        }
    ]
    ```
    
    ---
    

---

### 4. κ³Όμ  κ³ μ°°(κµ¬ν„ν•λ©΄μ„ μ΄λ ‡κ² ν•΄λ³Όκ±Έ ν•λ” μ•„μ‰¬μ›€μ„ μ μ—μµλ‹λ‹¤.)

1. **κ°μ„ λ μ„¤κ³„λ„**

![MSA κ°μ„  μ„¤κ³„λ” μ°μ•„ν•ν•μ λ“¤μ κΈ°μ μ„ μ°Έκ³ ν•μ€μµλ‹λ‹¤.](README_image/%EC%BB%A4%ED%94%BC%EC%A3%BC%EB%AC%B8%EC%8B%9C%EC%8A%A4%ED%85%9C_MSA_%EA%B0%9C%EC%84%A0.png)

MSA κ°μ„  μ„¤κ³„λ” μ°μ•„ν•ν•μ λ“¤μ κΈ°μ μ„ μ°Έκ³ ν•μ€μµλ‹λ‹¤.

1. **μ „μ‹μ„λ²„λ¥Ό λ‘κ°λ΅ λ¶„λ¦¬ν•©λ‹λ‹¤.**(μΈμ¤ν„΄μ¤λ¥Ό 2κ°λ¥Ό λ‘”λ‹¤λ” κ²ƒμ΄ μ•„λ‹™λ‹λ‹¤)

β†’ μ „μ‹1 μ„λ²„λ” κ³ κ°μ΄ ν™”λ©΄μ—μ„ μ „μ²΄ λ©”λ‰΄μ™€ μΈκΈ°λ©”λ‰΄λ¥Ό μ΅°ν api μ„λ²„μ…λ‹λ‹¤. 

β†’ μ „μ‹2 μ„λ²„λ” λ©”λ‰΄(menu)μ„λ²„μ—μ„ μƒμ„±λ λ©”λ‰΄-μƒν’μ •λ³΄λ¥Ό Kafkaλ¥Ό ν†µν•΄ μ—…λ°μ΄νΈ ν•λ” μ„λ²„μ…λ‹λ‹¤. λν• μ£Όλ¬Έ(order) μ„λ²„μ—μ„ μƒμ„±λ μ£Όλ¬Έ-λ©”λ‰΄ μ •λ³΄λ¥Ό Kafkaλ¥Ό ν†µν•΄ μƒμ„±ν•λ” μ„λ²„μ…λ‹λ‹¤. 

β†’ μ΄λ ‡κ² λ‘” μ΄μ λ” μ „μ‹2 μ„λ²„λ” μ¤λ΅μ§€ μ „μ‹1μ„λ²„κ°€ μ‚¬μ©ν•  λ°μ΄ν„°λ¥Ό μ΅°νν•κΈ° νΈν• λ¨λΈλ΅ μ €μ¥ν•λ” μ—­ν• λ΅ λ¶„λ¦¬ν•μ—¬, μ£Όλ¬Έμ„λ²„μ™€ λ©”λ‰΄μ„λ²„μ—μ„μ νΈλν”½( νΉν μ£Όλ¬Έμ„λ²„)μ„ κ°λ‹Ήν•κΈ° μ„ν•΄μ„ μ…λ‹λ‹¤.  κ°€μ¥ CQRS ν¨ν„΄μ— λ” μ–΄μΈλ¦¬λ” μ„¤κ³„ λ°©μ‹μ΄λΌκ³  μƒκ°ν•©λ‹λ‹¤. 

β†’ μ „μ‹1 μ„λ²„λ” μ¤λ΅μ§€ λ°μ΄ν„°λ¥Ό μ΅°νν•λ” μ—­ν• λ§ ν•©λ‹λ‹¤. κ·Έλμ„ μ£Όλ¬Έμ„λ²„μ™€ λ©”λ‰΄μ„λ²„μ νΈλν”½μ΄ μ¦κ°€ν•μ—¬λ„  κ³Όλ¶€ν•κ°€ μ „νλμ§€ μ•μµλ‹λ‹¤. ν•μ§€λ§ μ „μ‹2 μ„λ²„λ” μ£Όλ¬Έμ„λ²„μ™€ λ©”λ‰΄μ„λ²„μ νΈλν”½ μν–¥μ„ λ°›μ„ μ μμµλ‹λ‹¤. μ΄λ•λ” μ „μ‹2 μ„λ²„μ μΈμ¤ν„΄μ¤ μλ¥Ό λλ¦¬κ³  μ „μ‹2μ„λ²„λΌλ¦¬ κ°™μ€ consumer groupμΌλ΅ λ¬¶μ–΄ Kafkaμ λ©”μ‹μ§€λ¥Ό μ²λ¦¬ν•  μ μλ” λ°©λ²•λ„ μƒκ°ν•΄λ³΄μ•μµλ‹λ‹¤.

1. **μ „μ‹1 μ„λ²„μ™€ μ£Όλ¬Έμ„λ²„μ ν†µμ‹ μ€ kafkaκ°€ μ•„λ‹ Api μ”μ²­μΌλ΅ μƒκ°ν–μµλ‹λ‹¤.**

β†’ μ΄μ λ” μ „μ‹1μ„λ²„μ™€ μ£Όλ¬Έμ„λ²„λ¥Ό λ™κΈ°μ‹μΌλ΅ μ‘λ™μ‹ν‚¤κΈ° μ„ν•΄μ„ μ…λ‹λ‹¤.

β†’ κ³ κ° μ…μ¥μ—μ„λ” μ „μ‹1μ„λ²„μ—μ„ λ©”λ‰΄λ¥Ό κ³ λ¥΄κ³  μ£Όλ¬Έμ„ μ”μ²­ν•λ©΄ μ „μ‹1μ„λ²„λ” κ·Έ μ”μ²­μ„ μ£Όλ¬Έμ„λ²„μ—κ² λ³΄λ‚΄μ•Όν•λ”λ° Kafkaμ„ ν†µν•΄μ„ λ³΄λ‚΄λ©΄ λΉ„λ™κΈ°μ‹μ΄κΈ° λ•λ¬Έμ— λ°μ΄ν„°μ μ²λ¦¬ μ‘λ‹µμ„ κΈ°λ‹¤λ ¤μ„ κ³ κ°μ—κ² λ°”λ΅ λ…Έμ¶ν•΄μ•Όν•λ” μƒν™©μ΄λ‘ λ§μ§€ μ•λ‹¤κ³  μƒκ°ν–μµλ‹λ‹¤.( κ·Έλ¬λ‹κΉ, kafkaλ¥Ό μ‚¬μ© μ‹, κ³ κ°μ΄ μ£Όλ¬Έμ„ ν•  κ²½μ° μ£Όλ¬Έ κ²°κ³Όλ¥Ό μƒλ΅κ³ μΉ¨μ„ ν•λ² ν•΄μ•Ό μ• μ μλ” μƒν™©μ΄ λ²μ–΄μ§ μλ„ μμ„ κ²ƒ κ°™μ•μµλ‹λ‹¤. μ£Όλ¬Έ μ”μ²­μ„ μ£Όλ¬Έμ„λ²„μ—κ² λ³΄λ‚΄κ³  μ‘λ‹µμ΄ μ¬ λ•κΉμ§€ κΈ°λ‹¤λ¦° ν›„ κ³ κ°μ—κ² μ£Όλ¬Έ κ²°κ³Όλ¥Ό λ…Έμ¶ν•΄μ•Όν•λ” κ±΄ κ²°κµ­ λ™κΈ°μ‹ λ°©μ‹μ΄κΈ° λ•λ¬Έμ…λ‹λ‹¤.)

β†’ μ‚¬μ‹¤ μ—¬κΈ°μ„ λ¶„λ… νΈλν”½μ΄ κ³Όλ‹¤ν•κ² λ°μƒλ  μ μλ” μƒν™©μ΄ μμ„ ν…λ°( μ΄λ²¤νΈλ¥Ό ν•λ‹¤λμ§€ , νΉλ³„ ν• μΈ ν”„λ΅λ¨μ…κ°™μ€ μƒν™©) κ·Έλ ‡λ‹¤λ©΄ kafkaλ¥Ό μ‚¬μ©ν•κ³  μ£Όλ¬Έμ„λ²„μ μΈμ¤ν„΄μ¤λ¥Ό λλ¦° ν›„ μ£Όλ¬Έμ„λ²„λΌλ¦¬ κ°™μ€ consumer groupμΌλ΅ λ¬¶κ³  νν‹°μ…λ„ κ·Έλ§νΌ λλ¦¬λ©΄ λ  κ±°λΌκ³  μƒκ°μ€ λ“­λ‹λ‹¤λ§,μ•„μ§ λ€μ©λ‰ νΈλν”½ μƒν™©μ„ κ²μ–΄λ³΄μ§€ λ»ν•΄μ„ κ·Έμ € κ·Όκ±°μ—†μ΄ μƒμƒλ§μΌλ΅ μ„¤κ³„ν•λ” μ  μ΄ν•΄λ¶€νƒλ“λ¦½λ‹λ‹¤  π“π“

1. **λ©”λ‰΄μ„λ²„μ™€ μ£Όλ¬Έμ„λ²„λ„ λ§μ΄ν¬λ΅μ„λΉ„μ¤λ΅ λ¶„λ¦¬ν•μ€μµλ‹λ‹¤.**

β†’ νΈλν”½μ„ κ³ λ ¤ν•΄μ„λ„ λ¶„λ¦¬μ κΈ°μ¤€μ΄ λμ§€λ§ μ—­ν• μ΄ λ‹¬λΌλ„ λ¶„λ¦¬μ κΈ°μ¤€μ΄ λ  μ μλ‹¤κ³  μƒκ°ν•μ€μµλ‹λ‹¤. 

---


### 5. μ°Έκ³  μλ£

1. λ¨λ μλ°” μΈ μ•΅μ…( μ „λ¬Έκ°€λ¥Ό μ„ν• μλ°” 8,9,10 κΈ°λ²•κ°€μ΄λ“) (ν•λΉ›λ―Έλ””μ–΄) [(λ§ν¬ ν΄λ¦­)](http://www.yes24.com/Product/Goods/77125987)
2. μ°μ•„ν• ν•μ λ“¤ - Bλ§νΈ μ „μ‹ λ„λ©”μΈ CQRS μ μ©ν•κΈ° - YOUTUBE μ±„λ„ [(λ§ν¬ ν΄λ¦­)](https://www.youtube.com/watch?v=fg5xbs59Lro&t=2130s)
